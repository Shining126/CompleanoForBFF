<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Decodificatore</title>
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #6f42c1, #d63384);
      color: white;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    .decoder-box {
      background: rgba(0,0,0,0.3);
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
      width: 100%;
      max-width: 600px;
    }
    textarea {
      resize: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="decoder-box">
      <h1 class="mb-4">ðŸ”‘ Decodificatore</h1>
      <textarea id="encodedText" class="form-control mb-3" rows="5" placeholder="Inserisci il testo codificato..."></textarea>
      <button onclick="decodeText()" class="btn btn-light w-100 mb-3">Decodifica</button>
      <textarea id="decodedText" class="form-control" rows="5" readonly placeholder="Risultato decodificato..."></textarea>
      <a href="index.html" class="btn btn-outline-light mt-3">â¬… Torna al Countdown</a>
    </div>
  </div>

  <script>
    const cipher = {
      "6E":"a","26E":"b","48S":"c","16Z":"d","42E":"e","42S":"f","42Z":"g","6Z":"h","6R":"i","52E":"j",
      "32R":"k","26R":"l","32S":"m","6S":"n","16S":"o","48E":"p","26Z":"q","32E":"r","26S":"s","52R":"t",
      "48Z":"u","16E":"v","42R":"w","52S":"x","32Z":"y","52Z":"z","16R":"A","48R":"B","26ZE":"C","16SZ":"D",
      "16RZ":"E","32ES":"F","26ES":"G","6ES":"H","26EE":"I","42SZ":"J","48ER":"K","42SS":"L","6SE":"M","52ER":"N",
      "52ZE":"O","6ZS":"P","26SE":"Q","48ES":"R","32ZE":"S","32ZR":"T","26ZR":"U","32ZZ":"V","48SS":"W",
      "16ZE":"X","42ZR":"Y","48ZE":"Z","26ZS":"Ã ","6ER":"Ã¨","16ER":"Ã©","52RS":"Ã¬","52SR":"Ã²","32SS":"Ã¹",
      "26SZ":"Ã€","6RZ":"Ãˆ","32EE":"Ã‰","52ZR":"ÃŒ","42ES":"Ã’","48RR":"Ã™","48RZ":"0","32EZ":"1","32SZ":"2",
      "6RE":"3","42RE":"4","26SR":"5","32SE":"6","16SS":"7","42RS":"8","32ZS":"9","42SR":".","26SS":"...",
      "32RZ":",","42RZ":"!","42SE":"?","52RZ":";","52EE":":","6SS":"-","52ZZ":"_","16RE":"(","42ER":")",
      "6ZZ":"[","6RR":"]","16RR":"{","6SR":"}","48SR":"'","48ZS":"\"","48EE":"@","42ZS":"#","52SS":"$",
      "16ZR":"&","42EZ":"*","42RR":"/","16RS":"+","26RS":"=","48SZ":"<","52ES":">","52SZ":" ",
      "16SR":"\n"
    };

    function decodeText() {
      const encoded = document.getElementById("encodedText").value.trim();
      const tokens = encoded.match(/(26ZE|16SZ|16RZ|32ES|26ES|6ES|26EE|42SZ|48ER|42SS|6SE|52ER|52ZE|6ZS|26SE|48ES|32ZE|32ZR|26ZR|32ZZ|48SS|16ZE|42ZR|48ZE|26ZS|6ER|16ER|52RS|52SR|32SS|26SZ|6RZ|32EE|52ZR|42ES|48RR|48RZ|32EZ|32SZ|6RE|42RE|26SR|32SE|16SS|42RS|32ZS|42SR|26SS|32RZ|42RZ|42SE|52RZ|52EE|6SS|52ZZ|16RE|42ER|6ZZ|6RR|16RR|6SR|48SR|48ZS|48EE|42ZS|52SS|16ZR|42EZ|42RR|16RS|26RS|48SZ|52ES|52SZ|16SR|6E|26E|48S|16Z|42E|42S|42Z|6Z|6R|52E|32R|26R|32S|6S|16S|48E|26Z|32E|26S|52R|48Z|16E|42R|52S|32Z|52Z)/g) || [];
      let decoded = tokens.map(code => cipher[code] || "?").join("");
      document.getElementById("decodedText").value = decoded;
    }
  </script>
</body>
</html>
